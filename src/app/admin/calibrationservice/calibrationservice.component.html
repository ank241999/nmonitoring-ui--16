<div class="inputWrapper calibrationservice">
    <div id="smart-tables">
        <div class="row">
            <div class="col-xs-12">
                <div class="card">
                    <div class="row mb-15" style="margin-left: -45px; margin-right: -45px; min-height: 37px;">
                        <div class="col-xs-2 text-left">&nbsp;
                            <!-- <img alt="" src="../../../assets/images/backscreen_icon.jpg" (click)="onScreenBack()"
                                style="cursor: pointer;" /> -->
                        </div>
                        <div class="col-xs-9 text-right">
                        </div>
                        <div class="col-xs-1 text-right">
                            <img alt="" src="../../../assets/images/closescreen_icon.jpg" style="cursor: pointer;"
                                (click)="refresh()" />
                        </div>
                        <div class="row">
                            <div class="col-xs-1 link_back">&nbsp;</div>
                            <div class="col-xs-10">&nbsp;</div>
                            <div class="col-xs-1" style="text-align: right;">&nbsp;</div>
                        </div>
                        <div class="innercard-wrapper">
                            <header class="row title  pd-left-75">
                                <div class="col-xs-12">
                                    <h2 class="main-title">Full Calibration</h2>
                                    <!-- <span class="close">&times;</span> -->
                                </div>
                            </header>
                            <div class="container-fluid">
                                <mat-horizontal-stepper #stepper>
                                    <mat-step [stepControl]="firstFormGroup">
                                        <form [formGroup]="firstFormGroup">
                                            <ng-template matStepLabel>Capture Air</ng-template>
                                            <div class="container-fluid">
                                                <div class="row">
                                                    <div class="col-md-12"
                                                        style="font-size: 40px;font-weight: 800;height: 200px;">
                                                        Ensure that there is enough space and no
                                                        objects in front of the device</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6"></div>
                                                    <div class="col-md-6">
                                                        <div class="row">
                                                            <div class="col-md-4"
                                                                style="font-size: 18px;font-weight: bold; padding-top: 30px;text-align: right;">
                                                                Number of Frames
                                                            </div>
                                                            <div class="col-md-4 wrapper" style="margin-top: 10px;">
                                                                <button class="plusminus"
                                                                    (click)="firstFormHandleMinus()"><i
                                                                        class="fa fa-minus fa-1x"
                                                                        aria-hidden="true"></i></button>
                                                                <input type="number" min="0" class="num"
                                                                    formControlName="firstframe"
                                                                    (input)="checkValue($event)" required
                                                                    style="height: 50px;">
                                                                <button class="plusminus"
                                                                    (click)="firstFormHandlePlus()"><i
                                                                        class="fa fa-plus fa-1x"
                                                                        aria-hidden="true"></i></button>
                                                            </div>
                                                            <div class="col-md-1"></div>
                                                            <div class="col-md-3">
                                                                <button class="globalButton"
                                                                    [disabled]="!firstFormGroup.valid"
                                                                    (click)="captureAir()" matStepperNext>
                                                                    <span>
                                                                        <i class="fa fa-arrow-circle-o-right fa-2x btnIcon"
                                                                            aria-hidden="true"></i>
                                                                    </span>
                                                                    <p class="buttonName">Next</p>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </mat-step>
                                    <mat-step [stepControl]="secondFormGroup">
                                        <form [formGroup]="secondFormGroup">
                                            <ng-template matStepLabel>Capture Plate</ng-template>
                                            <div class="container-fluid">
                                                <div class="row">
                                                    <div class="col-md-9"
                                                        style="font-size: 40px;font-weight: 800;height: 200px;">
                                                        Place a Plate in front of the device</div>
                                                    <div class="col-md-3"></div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-2"
                                                        style="font-size: 18px;font-weight: bold; padding-top: 30px; text-align: right;">
                                                        Number of Frames
                                                    </div>
                                                    <div class="col-md-2 wrapper" style="margin-top: 10px;">
                                                        <button class="plusminus"
                                                            (click)="secondFormHandleMinus('secondframe')"><i
                                                                class="fa fa-minus fa-1x"
                                                                aria-hidden="true"></i></button>
                                                        <input type="number" min="0" class="num"
                                                            formControlName="secondframe" (input)="checkValue($event)"
                                                            required style="height: 50px;">
                                                        <button class="plusminus"
                                                            (click)="secondFormHandlePlus('secondframe')"><i
                                                                class="fa fa-plus fa-1x"
                                                                aria-hidden="true"></i></button>
                                                    </div>
                                                    <div class="col-md-2"></div>
                                                    <div class="col-md-2"
                                                        style="font-size: 18px;font-weight: bold; padding-top: 30px;">
                                                        Distance Of Plate (in inches)
                                                    </div>
                                                    <div class="col-md-2 wrapper" style="margin-top: 10px;">
                                                        <button class="plusminus"
                                                            (click)="secondFormHandleMinus('platedistance')"><i
                                                                class="fa fa-minus fa-1x"
                                                                aria-hidden="true"></i></button>
                                                        <input type="number" class="num" formControlName="platedistance"
                                                            (input)="checkValue($event)" required style="height: 50px;">
                                                        <button class="plusminus"
                                                            (click)="secondFormHandlePlus('platedistance')"><i
                                                                class="fa fa-plus fa-1x"
                                                                aria-hidden="true"></i></button>
                                                    </div>
                                                    <div class="col-md-1"></div>
                                                    <div class="col-md-1">
                                                        <button class="globalButton" [disabled]="!secondFormGroup.valid"
                                                            (click)="capturePlate()" matStepperNext>
                                                            <span>
                                                                <i class="fa fa-arrow-circle-o-right fa-2x btnIcon"
                                                                    aria-hidden="true"></i>
                                                            </span>
                                                            <p class="buttonName">Next</p>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </mat-step>
                                    <mat-step [stepControl]="thirdFormGroup">
                                        <form [formGroup]="thirdFormGroup">
                                            <ng-template matStepLabel>Capture Target</ng-template>
                                            <div class="container-fluid">
                                                <div class="row">
                                                    <div class="col-md-12"
                                                        style="font-size: 40px;font-weight: 800;height: 200px;">
                                                        Click the timer. The target image will be captured at the
                                                        expiration of the timer</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-1">
                                                        <button class="globalButton" [disabled]="clicked"
                                                            (click)='startTimer(); clicked = true;'>
                                                            <span class="fa-stack small btnIcon"
                                                                style="padding-top:2px;">
                                                                <i class="fa fa-window-minimize fa-stack-2x"
                                                                    aria-hidden="true"
                                                                    style="margin-top: -5px;rotate: -29deg; margin-left: 10p; margin-left: 7px;font-size: 15px;"></i>
                                                                <i class="fa fa-window-minimize fa-stack-2x"
                                                                    aria-hidden="true"
                                                                    style="rotate: 90deg; margin-left: 5px; margin-top: -4px;font-size: 17px;"></i>
                                                                <i class="fa fa-window-minimize fa-stack-2x"
                                                                    aria-hidden="true"
                                                                    style="margin-top: -16px;font-size: 14px;margin-left: 0px;"></i>
                                                                <i class="fa fa-circle fa-stack-1x " aria-hidden="true"
                                                                    style="margin-left: 0px;font-size: 32px;"></i>
                                                            </span>
                                                            <span class="text-dark"
                                                                style="font-weight: 900;position: absolute;left: 54px;top: 15px;color: #143345;letter-spacing: -0.5px;">10</span>
                                                            <p class="buttonName">Start Timer</p>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-1" style="margin-top: 20px;">
                                                        <div class="timer" *ngIf="timeLeft<10">
                                                            <span id="seconds"> {{timeLeft}} </span>S
                                                        </div>
                                                    </div>
                                                    <div class="col-md-5"></div>
                                                    <div class="col-md-3"
                                                        style="font-size: 18px;font-weight: bold; padding-top: 30px;text-align: right;">
                                                        Distance of Target (in inches)
                                                    </div>
                                                    <div class="col-md-2 wrapper" style="margin-top: 10px;">
                                                        <button class="plusminus" (click)="thirdFormHandleMinus()"><i
                                                                class="fa fa-minus fa-1x"
                                                                aria-hidden="true"></i></button>
                                                        <input type="number" class="num"
                                                            formControlName="targetdistance"
                                                            (input)="checkValue($event)" required style="height: 50px;">
                                                        <button class="plusminus" (click)="thirdFormHandlePlus()">
                                                            <i class="fa fa-plus fa-1x" aria-hidden="true"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </mat-step>
                                    <mat-step [stepControl]="secondFormGroup">
                                        <form [formGroup]="secondFormGroup">
                                            <ng-template matStepLabel>Calibration Results</ng-template>
                                            <div class="container-fluid">
                                                <div class="row">
                                                    <div class="col-md-3"></div>
                                                    <div class="col-md-6" style="text-align: center;">
                                                        <img alt="" style="width: 40%;" [src]="imgsrc"
                                                            (load)="hidespinner()" (error)="onImageError()">
                                                    </div>
                                                    <div class="col-md-3"></div>
                                                </div>
                                                <div class="row" style="margin-top: 40px">
                                                    <div class="col-md-10"></div>
                                                    <div class="col-md-2">
                                                        <button class="globalButton" matStepperNext>
                                                            <span>
                                                                <i class="fa fa-arrow-circle-o-right fa-2x btnIcon"
                                                                    aria-hidden="true"></i>
                                                            </span>
                                                            <p class="buttonName">Next</p>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </mat-step>
                                    <mat-step>
                                        <ng-template matStepLabel>Persist Calibration Output</ng-template>
                                        <div class="container-fluid">
                                            <div class="row">
                                                <div class="col-md-12"
                                                    style="font-size: 40px;font-weight: 800;height:200px;">
                                                    You can now save any of the Air or Plate Calibration as needed</div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6"></div>
                                                <div class="col-md-6">
                                                    <div class="row">
                                                        <div class="col-md-4"></div>
                                                        <div class="col-md-2">
                                                            <button class="globalButton" type="submit"
                                                                (click)="saveair()">
                                                                <span>
                                                                    <i class="fa fa-floppy-o fa-2x btnIcon"
                                                                        aria-hidden="true"></i>
                                                                </span>
                                                                <p class="buttonName">Save Air</p>
                                                            </button>
                                                        </div>
                                                        <div class="col-md-1"></div>
                                                        <div class="col-md-2">
                                                            <button class="globalButton" type="submit"
                                                                (click)="savephase()">
                                                                <span><i class="fa fa-floppy-o fa-2x btnIcon"
                                                                        aria-hidden="true"></i>
                                                                </span>
                                                                <p class="buttonName">Save Plate</p>
                                                            </button>
                                                        </div>
                                                        <div class="col-md-1"></div>
                                                        <div class="col-md-2">
                                                            <button class="globalButton" onclick="location.reload()">
                                                                <span>
                                                                    <i class="fa fa-stop-circle-o fa-2x btnIcon"
                                                                        aria-hidden="true"></i>
                                                                </span>
                                                                <p class="buttonName">END</p>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </mat-step>
                                </mat-horizontal-stepper>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>