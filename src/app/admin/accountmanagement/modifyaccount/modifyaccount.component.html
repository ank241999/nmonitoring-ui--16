<div class="inputWrapper modifyaccount">
	<div class="row">
		<div class="col-xs-12">
			<div class="card">
				<div class="row mb-15" style="margin-left: -45px; margin-right: -45px; min-height: 37px;">
					<div class="col-xs-10">&nbsp;</div>
					<div class="col-xs-2 text-right">
						<img alt="" src="../../../assets/images/closescreen_icon.jpg" (click)="onScreenClose()"
							style="cursor: pointer;" />
					</div>
				</div>
				<header class="row title pd-left-75">
					<div class="col-xs-12 text-center">
						<h2 class="main-title" translate>modifyEditaccount</h2>
					</div>
				</header>
				<div class="row">
					<div class="col-xs-12">
						<form class="form-horizontal pd-left-75" [formGroup]="form" (ngSubmit)="onSubmit()"
							(input)="updateProgress()" (change)="updateProgress()" (reset)="updateProgress()">

							<div class="row mt-25">
								<div class="col-lg-4 col-xs-12">
									<div class="form-group"
										[ngClass]="{ 'has-error': ((form.get('firstName').invalid) && (form.get('firstName').touched)) }">
										<label class="col-sm-12 label-text" [attr.for]="'firstName'"
											translate>modifyFirstname</label>
										<div class="col-sm-12">
											<input type="text" class="form-control" formControlName="firstName"
												[id]="'firstName'" placeholder="{{'modifyFirstname' | translate}}">
										</div>
										<div class="validation-errors col-sm-12">
											<ng-container *ngFor="let validation of validationMessages.firstName">
												<div class="help-block"
													*ngIf="form.get('firstName').hasError(validation.type) && (form.get('firstName').dirty || form.get('firstName').touched)">
													{{ validation.message }}
												</div>
											</ng-container>
										</div>
									</div>
								</div>
								<div class="col-lg-4 col-xs-12 hidden-label">&nbsp;</div>
								<div class="col-lg-4 col-xs-12 hidden-label">&nbsp;</div>
							</div>

							<div class="row mt-25">
								<div class="col-lg-4 col-xs-12">
									<div class="form-group">
										<label class="col-sm-12 label-text" [attr.for]="'optionalText'"
											translate>modifyLastname</label>
										<div class="col-sm-12">
											<input type="text" class="form-control" formControlName="lastName"
												[id]="'lastName'" placeholder="{{'modifyLastname' | translate}}">
										</div>
									</div>
								</div>
								<div class="col-lg-4 col-xs-12 hidden-label">&nbsp;</div>
								<div class="col-lg-4 col-xs-12 hidden-label">&nbsp;</div>
							</div>

							<div class="row mt-25">
								<div class="col-lg-4 col-xs-12">
									<div class="form-group"
										[ngClass]="{ 'has-error': ((form.get('email').invalid) && (form.get('email').touched)) }">
										<label class="col-sm-12 label-text" [attr.for]="'email'"
											translate>modifyEmail</label>
										<div class="col-sm-12">
											<input type="email" class="form-control" formControlName="email"
												[id]="'email'" placeholder="{{'modifyEmail' | translate}}" disabled>
										</div>
										<div class="validation-errors col-sm-12">
											<ng-container *ngFor="let validation of validationMessages.email">
												<div class="help-block"
													*ngIf="form.get('email').hasError(validation.type) && (form.get('email').dirty || form.get('email').touched)">
													{{ validation.message }}
												</div>
											</ng-container>
										</div>
									</div>
								</div>
								<div class="col-lg-4 col-xs-12 hidden-label">&nbsp;</div>
								<div class="col-lg-4 col-xs-12 hidden-label">&nbsp;</div>
							</div>
							<div class="row mt-25">
								<div class="col-lg-4 col-xs-12">
									<div class="form-group"
										[ngClass]="{ 'has-error': ((form.get('role').invalid) && (form.get('role').touched)) }">
										<label class="col-sm-12 label-text" [attr.for]="'role'"
											translate>modifyRole</label>
										<div class="col-sm-12">
											<!-- <select class="form-control" formControlName="role" [id]="'role'" #t
												(change)="changeRole(t.value)">
												<option *ngFor="let item of userRoles" [value]="item.id">{{ item.role }}
													({{item.label}})
												</option>
											</select> -->
											<mat-select class="form-control mat-drop" formControlName="role" [id]="'role'" #t (selectionChange)="changeRole(t.value)">
												<mat-option *ngFor="let item of userRoles" [value]="item.id">
												  {{ item.role }} ({{ item.label }})
												</mat-option>
											  </mat-select>
										</div>
										<div class="validation-errors col-sm-12">
											<ng-container *ngFor="let validation of validationMessages.role">
												<div class="help-block"
													*ngIf="form.get('role').hasError(validation.type) && (form.get('role').dirty || form.get('role').touched)">
													{{ validation.message }}
												</div>
											</ng-container>
										</div>
									</div>
								</div>
								<div class="col-lg-4 col-xs-12 hidden-label">&nbsp;</div>
								<div class="col-lg-4 col-xs-12 hidden-label">&nbsp;</div>
							</div>
							<div class="row mt-25">
								<div class="col-lg-4 col-xs-12">
									<div class="form-group basic-user"
										[ngClass]="{ 'has-error': isValidExpiryDate===1 || isValidExpiryDate===2 }">
										<label class="col-sm-12 label-text" translate>modifyExpirationDate</label>
										<div class="col-sm-12">
											<div style="min-height: 60px; border: 1px solid #e4e4e4;"
												[ngStyle]="{'border-color': isValidExpiryDate===1 ? '#a94442' : (isValidExpiryDate===2 ? '#a94442' : '#e4e4e4') }">
												<input type="text" class="form-control date-input"
													[matDatepicker]="picker" [formControl]="form.controls.expiryDate"
													placeholder="{{'modifyChooseexpirydate' | translate}}"
													style="border: 0px none; width: 80%; float: left;"
													(focusout)="dateFilter('form.controls')">
												<mat-datepicker-toggle matSuffix [for]="picker"
													style="float: right; margin-top: 8px;"></mat-datepicker-toggle>
												<mat-datepicker #picker></mat-datepicker>
											</div>
										</div>
										<div class="validation-errors col-sm-12"
											[ngClass]="{ 'has-error': isValidExpiryDate===1 || isValidExpiryDate===2 }">
											<!-- <ng-container *ngFor="let validation of validationMessages.expiryDate">
													<div class="help-block"
														*ngIf="form.get('expiryDate').hasError(validation.type) && (form.get('expiryDate').dirty || form.get('expiryDate').touched)">
														{{ validation.message }}
													</div>
												</ng-container> -->
											<div class="help-block" *ngIf="isValidExpiryDate===1" translate>
												modifyPleasecurrentDate
											</div>
											<div class="help-block" *ngIf="isValidExpiryDate===2" translate>
												modifyExpirationrequired
											</div>
										</div>
									</div>
								</div>
								<div class="col-lg-4 col-xs-12 hidden-label">&nbsp;</div>
								<div class="col-lg-4 col-xs-12 hidden-label">&nbsp;</div>
							</div>

							<div class="row mt-25">
								<div class="col-lg-8"></div>
								<div class="col-lg-4">
									<div class="row">
										<div class="col-lg-4 col-xs-12">
											<button class="globalButton" type="button" style="font-size: 16px;"
												(click)="changeStatus();" [disabled]="!isblocked"
												[ngStyle]="isblocked?{'background-color': '#339900'} : {'background-color': '#E4E4E4'}">
												<span>
													<i class="fa fa-unlock fa-2x btnIcon" aria-hidden="true"
														*ngIf="isblocked"></i>
													<i class="fa fa-lock fa-2x btnIcon" aria-hidden="true"
														*ngIf="!isblocked"></i>
												</span>
												<p class="buttonName" *ngIf="isblocked">UNBLOCK</p>
												<p class="buttonName" *ngIf="!isblocked">BLOCK</p>
											</button>
										</div>
										<div class="col-lg-4 col-xs-12">
											<button class="globalButton" type="button" (click)="resetUser()"
												style="margin-bottom: 5px;letter-spacing: 0px;">
												<span>
													<i class="fa fa-refresh fa-2x btnIcon" aria-hidden="true"></i>
												</span>
												<p class="buttonName">RESET PASSWORD</p>
											</button>
										</div>
										<div class="col-lg-4 col-xs-12">
											<button class="globalButton" type="submit" style="font-size: 16px;"
												(click)="validateFields(); form.valid"
												[disabled]="!form.valid || isValidExpiryDate===1 || isValidExpiryDate===2 || isblocked">
												<span>
													<i class="fa fa-floppy-o fa-2x btnIcon" aria-hidden="true"></i>
												</span>
												<p class="buttonName">SAVE</p>
											</button>
										</div>
									</div>
								</div>

							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>